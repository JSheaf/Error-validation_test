{% extends 'layout-fixed.html' %} {% block head %} {% include 'includes/head.html' %} {% endblock %} {% block content %} {% include 'includes/back.html' %}

<div class="grid-row no-bottom">
    <div class="column-two-thirds no-bottom">

        <div class="error-summary hide">
            <div class="error-title">There was a problem</div>
            <div class="error-description">Please amend the following details:</div>
            <ul class="error-list">
                <li class="name label-error"><a href="#name">Provide your full name</a></li>
                <li class="role label-error"><a href="#role">Provide your team role</a></li>
                <li class="email label-error"><a href="#email">Provide your e-mail address</a></li>
                <li class="phoneExt label-error"><a href="#phoneExt">Provide your phone extension</a></li>
            </ul>
        </div>

        <div class="row">
            <div class="col-12">
                <h1>Your details</h1>


                <div class="label-title">Tell us who you are</div>

                <form>
                    <div class="form-group margin-top-4" id="qname">
                        <label for="name">
                            <div class="label-title">Full name</div>
                            <div class="name label-error">Provide your full name</div>
                            <input class="form-control form-control-1-2" id="name" type="text" name="name" value="">
                        </label>
                    </div>
                    
                    <div class="form-group" id="qrole">
                        <label for="role">
                            <div class="label-title">Role within team</div>
                            <div class="role label-error">Provide your team role</div>
                            <input class="form-control form-control-1-2" id="role" type="text" name="role" value="">
                        </label>
                    </div>
                    
                    <div class="form-group" id="qemail">
                        <label for="email">
                            <div class="label-title">E-mail</div>
                            <div class="email label-error">Provide your e-mail address</div>
                            <input class="form-control form-control-1-2" id="email" type="text" name="email" value="">
                        </label>
                    </div>

                        <div class="form-group" id="qphoneExt">
                        <label for="phoneExt">
                            <div class="label-title">Phone extension</div>
                            <div class="phoneExt label-error">Provide your phone extension</div>
                            <input class="form-control form-control-1-2" id="phoneExt" type="text" name="phoneExt" value="">
                        </label>
                    </div>

                </form>
                <button class="btn-lrg btn-primary">Next</button>
            </div>
        </div>


        <script type="text/javascript">
            $(".btn-lrg").click(function () {
                validate();
            });



            if (member.questions === undefined) {
                member.questions = {};
            }

            hideerror('.label-error');
            $(".error").removeClass("error");
            $('.error-summary').hide();

            function validate() {
                var validInput = true; 

                hideerror('.label-error');
                $(".error").removeClass("error");
                $('.error-summary').hide();

                var name = $('input[name=name]:text').val();
                var role = $('input[name=role]:text').val();
                var email = $('input[name=email]:text').val();
                var phoneExt = $('input[name=phoneExt]:text').val();

                if ((name === '') || (name === undefined)) {
                    $('#qname').addClass('error');
                    $('.name.label-error').show();
                    $('.error-summary').show();
                    $('body').scrollTop(0);
                    $('.error-summary').focus();
                    validInput = false;
                } 
                
                if ((role === '') || (role === undefined)) {
                    $('#qrole').addClass('error');
                    $('.role.label-error').show();
                    $('.error-summary').show();
                    $('body').scrollTop(0);
                    $('.error-summary').focus();
                    validInput = false;
                } 
                
                if ((email === '') || (email === undefined)) {
                    $('#qemail').addClass('error');
                    $('.email.label-error').show();
                    $('.error-summary').show();
                    $('body').scrollTop(0);
                    $('.error-summary').focus();
                    validInput = false;
                } 
                
                if ((phoneExt === '') || (phoneExt === undefined)) {
                    $('#qphoneExt').addClass('error');
                    $('.phoneExt.label-error').show();
                    $('.error-summary').show();
                    $('body').scrollTop(0);
                    $('.error-summary').focus();
                    validInput = false;
                } 
                
                else {
                    
                    member.questions.fullName = name;
                    member.questions.teamRole = role;
                    member.questions.eMail = email;
                    member.questions.phoneExtension = phoneExt;
                    go('/index');
                    
                }
            }
        </script>

        {% endblock %}